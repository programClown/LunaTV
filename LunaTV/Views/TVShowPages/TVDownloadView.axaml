<UserControl
    x:Class="LunaTV.Views.TVShowPages.TVDownloadView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:LunaTV.ViewModels.TVShowPages"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="vm:TVDownloadViewModel">

    <Grid RowDefinitions="Auto, Auto, *">
        <StackPanel Grid.Row="0" Spacing="8">
            <TextBlock
                HorizontalAlignment="Center"
                FontSize="32"
                Foreground="{DynamicResource SemiPurple6Color}"
                Text="M3U8下载神器"
                Theme="{DynamicResource TitleTextBlock}" />
            <TextBlock
                HorizontalAlignment="Center"
                Classes="H5"
                Text="快速、简单的下载服务  纵享丝滑"
                Theme="{DynamicResource TitleTextBlock}" />

            <Border
                Height="2"
                MaxWidth="600"
                Opacity="0.3">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Offset="0.0" Color="#FFDD9BE0" />
                        <GradientStop Offset="0.5" Color="#FF490A61" />
                        <GradientStop Offset="1.0" Color="#FFB449C2" />
                    </LinearGradientBrush>
                </Border.Background>
            </Border>

            <TextBox
                Width="500"
                Classes="ClearButton Large"
                Watermark="请输入m3u8链接">
                <TextBox.InnerRightContent>
                    <Button
                        Margin="0,0,-10,0"
                        Classes="Large"
                        Content="下载" />
                </TextBox.InnerRightContent>
            </TextBox>

        </StackPanel>

        <DockPanel Grid.Row="1" Margin="20,10">
            <TextBlock
                HorizontalAlignment="Left"
                Classes="H6"
                Text="下载管理"
                Theme="{DynamicResource TitleTextBlock}" />

            <TextBlock HorizontalAlignment="Right">
                <Run Text="下载中：" />
                <Run Text="1" />
                <Run Text="  等待中：" />
                <Run Text="20" />
                <Run Text="  总共：" />
                <Run Text="100" />
            </TextBlock>
        </DockPanel>

        <DataGrid
            Grid.Row="2"
            Margin="8"
            CanUserReorderColumns="True"
            CanUserResizeColumns="True"
            CanUserSortColumns="True"
            HeadersVisibility="All"
            IsReadOnly="True"
            ItemsSource="{Binding MediaDownloads}">
            <DataGrid.Columns>
                <DataGridTextColumn
                    x:DataType="vm:MediaDownloadViewModel"
                    Binding="{Binding Name}"
                    Header="影视名称" />
                <DataGridTextColumn
                    x:DataType="vm:MediaDownloadViewModel"
                    Binding="{Binding Episode}"
                    Header="剧集" />
                <DataGridTextColumn
                    x:DataType="vm:MediaDownloadViewModel"
                    Binding="{Binding SourceName}"
                    Header="来源" />
                <DataGridTemplateColumn x:DataType="vm:MediaDownloadViewModel" Header="链接">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate x:DataType="vm:MediaDownloadViewModel">
                            <Label
                                Classes="Blue"
                                Theme="{StaticResource TagLabel}"
                                ToolTip.Tip="{Binding Url}">
                                <PathIcon
                                    Classes="Small"
                                    Data="{DynamicResource SemiIconLink}"
                                    Theme="{DynamicResource InnerPathIcon}" />
                            </Label>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn x:DataType="vm:MediaDownloadViewModel" Header="本地路径">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate x:DataType="vm:MediaDownloadViewModel">
                            <Button Theme="{DynamicResource BorderlessButton}" ToolTip.Tip="{Binding LocalPath}">
                                <PathIcon
                                    Classes="Small"
                                    Data="{DynamicResource SemiIconVideo}"
                                    Theme="{DynamicResource InnerPathIcon}" />
                            </Button>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTextColumn
                    x:DataType="vm:MediaDownloadViewModel"
                    Binding="{Binding UpdateTime, StringFormat={}{0:yyyy-MM-dd HH:mm:ss}}"
                    Header="下载时间" />
            </DataGrid.Columns>

        </DataGrid>
    </Grid>
</UserControl>